{"remainingRequest":"C:\\xampp\\htdocs\\lv1\\LuanVan\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\lv1\\LuanVan\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\lv1\\LuanVan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\lv1\\LuanVan\\src\\pages\\Users\\ThemNV.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\lv1\\LuanVan\\src\\pages\\Users\\ThemNV.vue","mtime":1656657075838},{"path":"C:\\xampp\\htdocs\\lv1\\LuanVan\\.babelrc","mtime":1607335907000},{"path":"C:\\xampp\\htdocs\\lv1\\LuanVan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\lv1\\LuanVan\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\xampp\\htdocs\\lv1\\LuanVan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\lv1\\LuanVan\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/xampp/htdocs/lv1/LuanVan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport BaseInput from \"../../components/Inputs/BaseInput.vue\";\nexport default {\n  components: {\n    BaseInput: BaseInput\n  },\n  data: function data() {\n    return {\n      form: {\n        TEN: null,\n        EMAIL: null,\n        PASS: null,\n        SODIENTHOAI: null,\n        DIACHI: null,\n        GIOITINH: null\n      }\n    };\n  },\n  methods: {\n    //      onCreate() {\n    // //       try {\n    //         let data = new FormData();\n    //         data.append(\"TEN\", this.form.TEN);\n    //         data.append(\"EMAIL\", this.form.EMAIL);\n    //         data.append(\"PASS\", this.form.PASS);\n    //       data.append(\"SODIENTHOAI\", this.form.SODIENTHOAI);\n    //        data.append(\"DIACHI\", this.form.DIACHI);\n    //         console.log(this.data)\n    //          axios.post(\"http://localhost:3000/user/create-usr\",data);\n    // console.log(this.data)\n    //     }\n    // //         .then(\n    // //       response => {\n    // // console.log(response)\n    // //  alert(\"success\");\n    // //       });\n    //       } catch (error) {\n    //         console.log(error);\n    //       }\n    //     },\n    onCreate: function () {\n      var _onCreate = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var token, result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                token = localStorage.token;\n                _context.next = 3;\n                return axios.post(\"http://localhost:3000/admin/create-adm\", {\n                  TEN: this.form.TEN,\n                  EMAIL: this.form.EMAIL,\n                  PASS: this.form.PASS,\n                  SODIENTHOAI: this.form.SODIENTHOAI,\n                  DIACHI: this.form.DIACHI,\n                  GIOITINH: this.form.GIOITINH\n                }, {\n                  headers: {\n                    \"Access-Control-Allow-Origin\": \"*\",\n                    // \"Content-type\": \"Application/json\",\n                    \"Authorization\": \"Bearer \".concat(token)\n                  }\n                });\n\n              case 3:\n                result = _context.sent;\n\n                if (result.data.message === \"TẠO THÀNH CÔNG\") {\n                  alert(result.data.message);\n                  this.$router.push('/quanlyuser/nhanvien');\n                } else {\n                  alert(result.data.message);\n                  this.$router.push('/quanlyuser/themnv');\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onCreate() {\n        return _onCreate.apply(this, arguments);\n      }\n\n      return onCreate;\n    }()\n  }\n};",{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;EACAA;IAAAC;EAAA,CADA;EAEAC,IAFA,kBAEA;IACA;MACAC;QACAC,SADA;QAEAC,WAFA;QAGAC,UAHA;QAIAC,iBAJA;QAKAC,YALA;QAMAC;MANA;IADA;EAUA,CAbA;EAcAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IAEA;IACA;IACA;IACA;IAEAC,QAzBA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBA0BAC,KA1BA,GA0BAC,kBA1BA;gBAAA;gBAAA,OA2BAC,qDACA;kBACAV,kBADA;kBAEAC,sBAFA;kBAGAC,oBAHA;kBAIAC,kCAJA;kBAKAC,wBALA;kBAMAC;gBANA,CADA,EASA;kBACAM;oBACA,kCADA;oBAEA;oBACA;kBAHA;gBADA,CATA,CA3BA;;cAAA;gBA2BAC,MA3BA;;gBA4CA;kBACAC;kBACA;gBACA,CAHA,MAIA;kBACAA;kBACA;gBACA;;cAnDA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;AAdA","names":["components","BaseInput","data","form","TEN","EMAIL","PASS","SODIENTHOAI","DIACHI","GIOITINH","methods","onCreate","token","localStorage","axios","headers","result","alert"],"sourceRoot":"src/pages/Users","sources":["ThemNV.vue"],"sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <card>\r\n            <h4 slot=\"header\" class=\"card-title\">Thêm mới</h4>\r\n            <form>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-4\">\r\n                  <base-input type=\"text\" label=\"Tên người dùng\" placeholder=\"Username\" v-model=\"form.TEN\">\r\n                  </base-input>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                  <base-input v-model=\"form.EMAIL\" type=\"email\" label=\"Email\" placeholder=\"Email\">\r\n                  </base-input>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                  <base-input v-model=\"form.SODIENTHOAI\" type=\"text\" label=\"Phone\" placeholder=\"SDT\">\r\n                  </base-input>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-4\">\r\n                  <base-input type=\"password\" label=\"Mật khẩu\" placeholder=\"Password\" v-model=\"form.PASS\">\r\n                  </base-input>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                  <base-input v-model=\"form.DIACHI\" type=\"text\" label=\"Địa chỉ\">\r\n                  </base-input>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                  <!-- <div class=\"form-group col-md-4\"> -->\r\n                  <label for=\"inputState\">Giới tính</label>\r\n                  <select v-model=\"form.GIOITINH\" id=\"inputState\" class=\"form-control\">\r\n                    <option value=\"0\">Nam</option>\r\n                    <option value=\"1\">Nữ</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <button @click.prevent=\"onCreate()\" type=\"submit\" class=\"btn btn-primary btn-fill float-right\">\r\n                  Xác nhận\r\n                </button>\r\n              </div>\r\n              <div class=\"clearfix\"></div>\r\n            </form>\r\n          </card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport BaseInput from '../../components/Inputs/BaseInput.vue';\r\nexport default {\r\n  components: { BaseInput },\r\n  data() {\r\n    return {\r\n      form: {\r\n        TEN: null,\r\n        EMAIL: null,\r\n        PASS: null,\r\n        SODIENTHOAI: null,\r\n        DIACHI: null,\r\n        GIOITINH: null,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    //      onCreate() {\r\n    // //       try {\r\n    //         let data = new FormData();\r\n    //         data.append(\"TEN\", this.form.TEN);\r\n    //         data.append(\"EMAIL\", this.form.EMAIL);\r\n    //         data.append(\"PASS\", this.form.PASS);\r\n    //       data.append(\"SODIENTHOAI\", this.form.SODIENTHOAI);\r\n    //        data.append(\"DIACHI\", this.form.DIACHI);\r\n    //         console.log(this.data)\r\n    //          axios.post(\"http://localhost:3000/user/create-usr\",data);\r\n    // console.log(this.data)\r\n    //     }\r\n    // //         .then(\r\n    // //       response => {\r\n    // // console.log(response)\r\n\r\n    // //  alert(\"success\");\r\n    // //       });\r\n\r\n    //       } catch (error) {\r\n    //         console.log(error);\r\n    //       }\r\n    //     },\r\n\r\n    async onCreate() {\r\n      const token = localStorage.token;\r\n      const result = await axios.post(\"http://localhost:3000/admin/create-adm\",\r\n        {\r\n          TEN: this.form.TEN,\r\n          EMAIL: this.form.EMAIL,\r\n          PASS: this.form.PASS,\r\n          SODIENTHOAI: this.form.SODIENTHOAI,\r\n          DIACHI: this.form.DIACHI,\r\n          GIOITINH: this.form.GIOITINH,\r\n        },\r\n        {\r\n          headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n            // \"Content-type\": \"Application/json\",\r\n            \"Authorization\": `Bearer ${token}`\r\n          }\r\n        }\r\n      );\r\n      if (result.data.message === \"TẠO THÀNH CÔNG\") {\r\n        alert(result.data.message);\r\n        this.$router.push('/quanlyuser/nhanvien')\r\n      }\r\n      else {\r\n        alert(result.data.message);\r\n        this.$router.push('/quanlyuser/themnv')\r\n      }\r\n    },\r\n  }\r\n};\r\n</script>"]}]}